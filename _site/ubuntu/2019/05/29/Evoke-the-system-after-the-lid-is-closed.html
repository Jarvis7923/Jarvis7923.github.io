<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Evoke the system after the lid is closed | Shang’s Blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Evoke the system after the lid is closed" />
<meta name="author" content="Shang Wang" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Problem descriptions The laptop display can not be restarted after closing the lid while the sound works well. In fact, after restarting the laptop-mode several times, it still doesn’t work out. Therefore, I believe it’s time to say goodbye to the hibernation mode of the Ubuntu." />
<meta property="og:description" content="Problem descriptions The laptop display can not be restarted after closing the lid while the sound works well. In fact, after restarting the laptop-mode several times, it still doesn’t work out. Therefore, I believe it’s time to say goodbye to the hibernation mode of the Ubuntu." />
<link rel="canonical" href="http://localhost:4000/ubuntu/2019/05/29/Evoke-the-system-after-the-lid-is-closed.html" />
<meta property="og:url" content="http://localhost:4000/ubuntu/2019/05/29/Evoke-the-system-after-the-lid-is-closed.html" />
<meta property="og:site_name" content="Shang’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-29T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Problem descriptions The laptop display can not be restarted after closing the lid while the sound works well. In fact, after restarting the laptop-mode several times, it still doesn’t work out. Therefore, I believe it’s time to say goodbye to the hibernation mode of the Ubuntu.","author":{"@type":"Person","name":"Shang Wang"},"@type":"BlogPosting","url":"http://localhost:4000/ubuntu/2019/05/29/Evoke-the-system-after-the-lid-is-closed.html","headline":"Evoke the system after the lid is closed","dateModified":"2019-05-29T00:00:00+08:00","datePublished":"2019-05-29T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/ubuntu/2019/05/29/Evoke-the-system-after-the-lid-is-closed.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Shang's Blog" /><!-- MathJax Section -->
	<!-- copied from http://docs.mathjax.org/en/latest/configuration.html -->
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			extensions: ["tex2jax.js"],
			jax: ["input/TeX", "output/HTML-CSS"],
			tex2jax: {
			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
			displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
			processEscapes: true
			},
			"HTML-CSS": { fonts: ["TeX"] }
		});
	</script>
	<script type="text/javascript"
	   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_CHTML">
	</script>

</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Shang&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/Project.html">Projects</a><a class="page-link" href="/Category.html">Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title p-name" itemprop="name headline">Evoke the system after the lid is closed</h1>
        <p class="post-meta">
        <time class="dt-published" datetime="2019-05-29T00:00:00+08:00" itemprop="datePublished">May 29, 2019
        </time>
        <!---->
            
            
            
            
            - category: <a href="/categories/linux.html">Something about Ubuntu</a>
            
        </p>
    </header>

    <div class="post-content e-content" itemprop="articleBody">
        <h2 id="problem-descriptions">Problem descriptions</h2>
<p>The laptop display can not be restarted after closing the lid while the sound works well. In fact, after restarting the laptop-mode several times, it still doesn’t work out. Therefore, I believe it’s time to say goodbye to the hibernation mode of the Ubuntu.</p>

<h2 id="environment">Environment</h2>
<p>Ubuntu version, results from command <code class="highlighter-rouge">sudo lsb_release -a</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;  Distributor ID: Ubuntu
&gt;  Description:    Ubuntu 16.04.6 LTS
&gt;  Release:    16.04
&gt;  Codename:   xenial
</code></pre></div></div>
<p>Kernel version, results from command <code class="highlighter-rouge">uname -a</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; 4.15.0-50-generic #54~16.04.1-Ubuntu SMP Wed May 8 15:55:19 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
</code></pre></div></div>

<h2 id="solution">Solution</h2>
<h3 id="install-laptop-mode-tools">Install laptop-mode-tools</h3>
<p>Run this in the terminal to check the status of package <code class="highlighter-rouge">laptop-mode-tools</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dpkg -l | grep laptop-mode-tools
</code></pre></div></div>
<p>if you catch the output like:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ii  laptop-mode-tools    1.68-3ubuntu1    all    Tools for Power Savings based on battery/AC status
   
</code></pre></div></div>
<p>Then you already have the package installed, if not, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install laptop-mode-tools
</code></pre></div></div>

<h3 id="check-the-status-of-the-laptop-mode">Check the status of the laptop mode</h3>

<p>Run <code class="highlighter-rouge">cat /proc/sys/vm/laptop_mode</code> to check if the laptop mode has already activated. ‘0’ means it <em>does not</em> start, other number means it start.</p>

<h3 id="change-the-configuraton">Change the configuraton</h3>

<p>Try to change or remove the comment of this line:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ENABLE_LAPTOP_MODE=true
</code></pre></div></div>
<p>in <code class="highlighter-rouge">/etc/default/acpi-support</code>. if you find there is no such line in this file but you get:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Note: to enable "laptop mode" (to spin down your hard drive for longer
# periods of time), install the laptop-mode-tools package and configure
# it in /etc/laptop-mode/laptop-mode.conf. 
</code></pre></div></div>
<p>Then it’s time to change the perspective. Edit <code class="highlighter-rouge">/etc/laptop-mode/laptop-mode.conf</code>, change the following lines to true:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ENABLE_LAPTOP_MODE_ON_BATTERY=1

ENABLE_LAPTOP_MODE_ON_AC=1

ENABLE_LAPTOP_MODE_WHEN_LID_CLOSED=1
</code></pre></div></div>
<p>After that, restart the laptop node service by <code class="highlighter-rouge">/etc/init.d/laptop-mode restart</code>. Check if it has taken effect by <code class="highlighter-rouge">cat /proc/sys/vm/laptop_mode</code> as mentioned before,</p>

<p>Most of the blogs said that you can restart your laptop and try to close your lid and check if the system can be evoked.</p>

<p>But unfortuately, I myself didn’t take the advange of this workaround. So if you still want to see your lovely graphic interface after you close the lid, prohibit the hibernation functionality once and for all.</p>

<h3 id="close-the-hibernation">Close the hibernation</h3>
<p>Check the systme config file</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grep -r HandleLidSwitch /etc/systemd/logind.conf
</code></pre></div></div>
<p>Change the config file</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo sed -i 's/#HandleLidSwitch=suspend/HandleLidSwitch=ignore/g' /etc/systemd/logind.conf
</code></pre></div></div>
<p>and restart the service</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl restart systemd-logind.service
</code></pre></div></div>
<p>Then feel free to try closing the lid. At least it works for my laptop.</p>


    </div><a class="u-url" href="/ubuntu/2019/05/29/Evoke-the-system-after-the-lid-is-closed.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col one-half">
      <h2 class="footer-heading">Shang&#39;s Blog</h2>
        <ul class="contact-list">
          <li class="p-name">Shang Wang</li><li><a class="u-email" href="mailto:shang.wang@tufts.edu">shang.wang@tufts.edu</a></li></ul>
      </div>

      <div class="footer-col one-half">
        <p>I work hard cuz I&#39;m lazy enough.
</p>
      </div>

      <div class="social-links"><ul class="social-media-list"><li><a href="https://www.facebook.com/shang.wang.19950911" title="shang.wang.19950911"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg></a></li><li><a href="https://github.com/Jarvis7923" title="Jarvis7923"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a href="https://www.linkedin.com/in/shang-wang-098b2116a%2F" title="shang-wang-098b2116a/"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg></a></li><li><a href="https://www.youtube.com/channel/UCk8rk7qGwqPgBVRWnmbCVEA" title="Shang Wang"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg></a></li></ul>
</div>
    </div>

  </div>

</footer>
</body>

</html>
